<html lang="en">
<head>
    <title>Rubino Home Movies</title>
    <style>
        .row {
            display: flex;
            flex-wrap: wrap;
            padding: 0 4px;

            .column {
                flex: 25%;

                /*noinspection CssUnusedSymbol*/

                .item {
                    margin-top: 8px;
                    vertical-align: middle;
                    padding-left: 4px;
                    padding-right: 4px;
                }
            }
        }

    </style>
    <script type="text/javascript">
        function filter(input) {
            const searchValue = input.value.trim().toLowerCase();
            const items = document.querySelectorAll(".item");
            items.forEach(item => {
                const title = item.alt.toLowerCase();
                // hide items that don't match the search value
                if (title.includes(searchValue)) {
                    item.style.display = "unset";
                } else {
                    item.style.display = "none";
                }
            });
        }

        function popup(element) {
            console.log(element.id)
        }
    </script>
</head>
<body>
<div id="table" class="table">
    <div class="header">
        <label for="search">Search</label>
        <input type="text" name="search" id="search" placeholder="Search for a movie..." onInput="filter(this)"/>
    </div>
    <div class="row">
        <div id="column" class="column">
            <script type="application/javascript">
                // Array.from(document.querySelectorAll("a#thumbnail-anchor")).map(element => element.href.split("/")[4]);
                const page1 = ['XJu2bgpG-DU', 'vw22orJeChk', 'lpPzisntKoQ', 'YhkunpmG0VU', '9qqdq9C8f8w', 'ayht2XW33wc', 'a9KZtaShu-w', 'kjv1F8aQkzs', 'f_tdaSNnhzE', 'dblz3_BBe9E', 'PTuOCnHX-tQ', 'S1q2aEnocZM', 'UFWHGTe3I4o', 'y9mdwmmQZm0', 'IgWG6O0AB1Q', '758vAhvmUGw', 'wTP3N5j_E1g', 'wPdK2YT60ww', 'NdY6yuBbU-Y', 'ONFbij5pYP8', 'UCbzEXCu2UM', 'Vs9JPkSFc40', 'LlKGO3I31bg', '_UN-RL3URMY', 'my897h9ttbc', 'JEbTPRRPZFQ', 'TkRIi4wYDjA', 'qjFQxlhCa5U']
                const page2 = ['dpQow-VGF5Y', 'TS-YKr15AwY', 'TZMjzyO1Gvc', 'ZvPYUO7-HDg', 'OwyXSrqJ0Dw', 'FFXEIPHot1c']
                const page3 = ['5yCHbG185TU', 'exEQ_eLRH-s', 'hR9-74dVyb4', 'DUZbi6xiLTs', 'ZruDlbnHhuY', 'HcV05Ktkfe4', 'PkHWYMYM6Rk', 'ijdBk3EJTI8']
                const videos = page1.concat(page2).concat(page3);
                const column = document.getElementById("column");
                // const columns = 3;
                videos.forEach(id => {
                    // example: https://www.youtube.com/oembed?url=http%3A//youtube.com/watch%3Fv%3Dvw22orJeChk&format=json
                    fetch(`https://www.youtube.com/oembed?url=http%3A//youtube.com/watch%3Fv%3D${id}&format=json`)
                        .then(resp => {
                            if (!resp.ok) {
                                throw new Error(`HTTP error! status: ${resp.status}`);
                            }
                            return resp.json();
                        })
                        .then(data => {
                            const content = document.createElement("img");
                            content.classList.add("item");
                            // TODO: description would be nice to search by too
                            content.alt = data.title;
                            content.src = data.thumbnail_url;
                            content.hight = data.thumbnail_height;
                            content.width = data.thumbnail_width;
                            content.id = id;
                            column.appendChild(content);
                            // TODO: onClick
                            content.onclick = () => popup(content)
                        })
                        .catch(error => {
                            console.error('Error fetching video data:', error);
                        })
                });
                // <iframe src="https://www.youtube.com/embed/XJu2bgpG-DU"
                //   title="YouTube video player" frameborder="0"
                //   allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                //   referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </script>
        </div>
    </div>
</div>
</body>
</html>